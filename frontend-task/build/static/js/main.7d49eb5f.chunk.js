(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{30:function(e,t,a){},31:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),r=a.n(s),i=a(23),c=a.n(i),o=(a(30),a(3)),l=a(4),u=a(6),h=a(5),d=(a(31),a(7)),p=a.n(d),j=a(10),b=a(9),g=(a(8),a(13)),v=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).change=function(){n.props.setData(n.props.bankEntry.id,n.state.isFavourite),n.setState({isFavourite:!n.state.isFavourite})},n.state={isFavourite:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({isFavourite:this.props.flag})}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"BankItem",children:[!this.state.isFavourite&&Object(n.jsx)(g.b,{onClick:this.change,style:{flexShrink:"0",alignSelf:"center"}}),this.state.isFavourite&&Object(n.jsx)(g.a,{onClick:this.change,style:{flexShrink:"0",alignSelf:"center",color:"gold"}}),Object(n.jsx)("div",{style:{marginLeft:"25px",wordBreak:"break-word"},children:this.props.bankEntry.name})]})}}]),a}(s.Component),f=(a(14),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).storeData=function(){localStorage.setItem("favouriteBanks",JSON.stringify(n.state.favouriteBanks))},n.setData=function(e,t){var a=n.state.favouriteBanks;t?a=a.filter((function(t){return t!==e})):a.push(e),n.setState({favouriteBanks:a},n.storeData)},n.state={favouriteBanks:[]},n.setData=n.setData.bind(Object(b.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==localStorage.getItem("favouriteBanks")){e.next=3;break}return e.next=3,this.setState({favouriteBanks:JSON.parse(localStorage.getItem("favouriteBanks"))});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"BankBox",children:[Object(n.jsx)("h1",{style:{paddingBottom:20,paddingTop:10,textAlign:"center"},children:"Banks"}),Object(n.jsx)("text",{style:{fontSize:15,textAlign:"end"},className:"d-flex justify-content-end",children:" click on star to mark any bank favourite & then refresh"}),Object(n.jsx)("div",{className:"BankList",children:this.props.bankList.map((function(t,a){return Object(n.jsx)(v,{bankEntry:t,setData:e.setData,flag:e.state.favouriteBanks.includes(t.id)},a)}))})]})}}]),a}(s.Component)),x=a(11),O=a.n(x),m=a(24),y=a.n(m),k=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(n.jsxs)("div",{className:"CardBlock",style:{width:"30%",overfloWrap:"break-word"},children:[" ",this.props.name," "]}),Object(n.jsx)("div",{style:{width:"10%"},children:":"}),Object(n.jsxs)("div",{className:"CardBlock",style:{width:"60%",overflowWrap:"break-word"},children:[" ",this.props.value," "]})]})})}}]),a}(s.Component),C=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"Card",children:[Object(n.jsx)(k,{name:"Bank Name",value:this.props.branch.bank_name}),Object(n.jsx)("div",{style:{borderTop:"1px dotted white",margin:"3px"}}),Object(n.jsx)(k,{name:"Branch",value:this.props.branch.branch}),Object(n.jsx)("div",{style:{borderTop:"1px dotted white",margin:"3px"}}),Object(n.jsx)(k,{name:"Address",value:this.props.branch.address}),Object(n.jsx)("div",{style:{borderTop:"1px dotted white",margin:"3px"}}),Object(n.jsx)(k,{name:"City",value:this.props.branch.city}),Object(n.jsx)("div",{style:{borderTop:"1px dotted white",margin:"3px"}}),Object(n.jsx)(k,{name:"District",value:this.props.branch.district}),Object(n.jsx)("div",{style:{borderTop:"1px dotted white",margin:"3px"}}),Object(n.jsx)(k,{name:"State",value:this.props.branch.state})]})}}]),a}(s.Component),D=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handlePageClick=function(e){var t=e.selected,a=t*n.state.perPage;n.setState({currentPage:t,offset:a},(function(){n.loadMoreData()}))},n.onsearchChange=function(e){var t=e.target.value;null!==t&&""!==t&&n.setState({loading:!0,currentPage:0,currentPageData:[]}),n.setState({search:e.target.value}),setTimeout((function(){t===n.state.search&&(""!==e.target.value&&null!==e.target.value?n.setState({search:e.target.value,offset:0,currentPage:0},(function(){console.log(n.state),n.loadMoreData(),console.log(n.state.currentPageData)})):n.setState({search:"",offset:0,currentPageData:[],currentPage:0,pageCount:0,loading:!1}))}),1500)},n.onPageSizeChange=function(e){if(null!==n.state.search&&""!==n.state.search){var t=e.target.value;n.setState({perPage:t,currentPageData:[],loading:!0,pageCount:0}),setTimeout((function(){t===n.state.perPage&&(""!==e.target.value&&null!==e.target.value?n.setState({offset:0,currentPage:0},(function(){n.loadMoreData()})):n.setState({offset:0,currentPage:0}))}),500)}},n.onCityChange=function(e){n.state.city!==e.target.value&&n.setState({city:e.target.value},(function(){n.state.pageCount>0&&n.loadMoreData()}))},n.state={loading:!1,city:"All Cities",search:null,offset:0,currentPageData:[],perPage:8,currentPage:0,pageCount:0},n}return Object(l.a)(a,[{key:"loadMoreData",value:function(){var e=Object(j.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===this.state.search){e.next=12;break}return e.prev=1,t=this.state.search,e.next=5,O()({url:"https://bank-branches-details.herokuapp.com/api/branches/".concat(this.state.city,"/").concat(this.state.search,"/").concat(this.state.perPage,"/").concat(this.state.offset),method:"get",headers:{"Content-Type":"application/json"}});case 5:a=e.sent,this.state.search===t&&this.setState({currentPageData:a.data.data,pageCount:Math.ceil(a.data.searchSize/this.state.perPage),loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"DataBox",children:[Object(n.jsx)("h1",{style:{paddingBottom:20,paddingTop:10,textAlign:"center"},children:"Search"}),Object(n.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(n.jsxs)("select",{className:"dropdown","aria-label":".form-select-sm example",value:this.state.city,onChange:this.onCityChange,children:[Object(n.jsx)("option",{value:"All Cities",children:"All Cities"}),Object(n.jsx)("option",{value:"MUMBAI",children:"MUMBAI"}),Object(n.jsx)("option",{value:"DELHI",children:"DELHI"}),Object(n.jsx)("option",{value:"KOLKATA",children:"KOLKATA"}),Object(n.jsx)("option",{value:"CHENNAI",children:"CHENNAI"}),Object(n.jsx)("option",{value:"AHMEDABAD",children:"AHMEDABAD"})]}),Object(n.jsx)("input",{className:"searchBar text-white",type:"text",required:!0,onChange:this.onsearchChange})]}),Object(n.jsx)("div",{style:{height:50}}),(""===this.state.search||null===this.state.search)&&Object(n.jsx)("h1",{style:{height:"250px",paddingTop:"50px",textAlign:"center"},children:"Search Something to Filter Branches"}),this.state.loading&&Object(n.jsx)("h1",{style:{height:"250px",paddingTop:"50px",textAlign:"center"},children:"Loading..."}),Object(n.jsx)("div",{className:"DetailsList justify-content-around",children:this.state.currentPageData.map((function(e){return Object(n.jsx)(C,{branch:e},e.ifsc)}))}),Object(n.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(n.jsxs)("div",{children:["Page Limit :",Object(n.jsx)("input",{value:this.state.perPage,className:"searchBar text-white",type:"number",min:"1",required:!0,onChange:this.onPageSizeChange})]}),this.state.pageCount>0&&Object(n.jsx)(y.a,{previousLabel:"prev",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.pageCount,forcePage:0,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.handlePageClick,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})]})]})}}]),a}(s.Component),S=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={list:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.get("https://bank-branches-details.herokuapp.com/api/banks").then((function(t){console.log(t),e.setState({list:t.data})}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"App text-white",children:[Object(n.jsx)("div",{style:{paddingTop:35}}),Object(n.jsx)("div",{children:Object(n.jsx)(f,{bankList:this.state.list})}),Object(n.jsx)("div",{style:{height:50}}),Object(n.jsx)(D,{}),Object(n.jsx)("div",{style:{height:50}})]})}}]),a}(s.Component),B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,52)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))};c.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(S,{})}),document.getElementById("root")),B()},8:function(e,t,a){}},[[51,1,2]]]);
//# sourceMappingURL=main.7d49eb5f.chunk.js.map